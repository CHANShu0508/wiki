<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>硬件简要介绍 | Wiki：知识&amp;笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/header32.png">
    <meta name="description" content="不再碎片化 | No longer fragmented">
    <meta name="keywords" content="个人技术博客,技术文档,学习,git,github,markdown,嵌入式,STM32,C语言">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.57c10a4d.css" as="style"><link rel="preload" href="/assets/js/app.287ba006.js" as="script"><link rel="preload" href="/assets/js/2.cf4362eb.js" as="script"><link rel="preload" href="/assets/js/39.5064abfe.js" as="script"><link rel="prefetch" href="/assets/js/10.ca3f9f94.js"><link rel="prefetch" href="/assets/js/11.b4d1c50f.js"><link rel="prefetch" href="/assets/js/12.cca3ba79.js"><link rel="prefetch" href="/assets/js/13.e1d72f62.js"><link rel="prefetch" href="/assets/js/14.91f2adb6.js"><link rel="prefetch" href="/assets/js/15.a7a70068.js"><link rel="prefetch" href="/assets/js/16.d5be4432.js"><link rel="prefetch" href="/assets/js/17.31ec0952.js"><link rel="prefetch" href="/assets/js/18.8c0f4835.js"><link rel="prefetch" href="/assets/js/19.7cbc9836.js"><link rel="prefetch" href="/assets/js/20.e1ca69ed.js"><link rel="prefetch" href="/assets/js/21.b3b61477.js"><link rel="prefetch" href="/assets/js/22.03aa72ee.js"><link rel="prefetch" href="/assets/js/23.564ba096.js"><link rel="prefetch" href="/assets/js/24.cf195300.js"><link rel="prefetch" href="/assets/js/25.0d959a77.js"><link rel="prefetch" href="/assets/js/26.8f179dd3.js"><link rel="prefetch" href="/assets/js/27.9d4841cf.js"><link rel="prefetch" href="/assets/js/28.5c175096.js"><link rel="prefetch" href="/assets/js/29.2cb763ad.js"><link rel="prefetch" href="/assets/js/3.92b0bd34.js"><link rel="prefetch" href="/assets/js/30.eaf25d81.js"><link rel="prefetch" href="/assets/js/31.7f3c2787.js"><link rel="prefetch" href="/assets/js/32.abd8deb1.js"><link rel="prefetch" href="/assets/js/33.6c0ca3cd.js"><link rel="prefetch" href="/assets/js/34.2357e103.js"><link rel="prefetch" href="/assets/js/35.bedfc4ca.js"><link rel="prefetch" href="/assets/js/36.1fe9624d.js"><link rel="prefetch" href="/assets/js/37.6c24fb08.js"><link rel="prefetch" href="/assets/js/38.f00e5f04.js"><link rel="prefetch" href="/assets/js/4.9907f1e1.js"><link rel="prefetch" href="/assets/js/40.a7bfeb29.js"><link rel="prefetch" href="/assets/js/41.8cb7036a.js"><link rel="prefetch" href="/assets/js/42.b5ed0c1b.js"><link rel="prefetch" href="/assets/js/43.29bf753c.js"><link rel="prefetch" href="/assets/js/44.a2888a8b.js"><link rel="prefetch" href="/assets/js/45.26d4fffe.js"><link rel="prefetch" href="/assets/js/46.59abb034.js"><link rel="prefetch" href="/assets/js/47.910b85e1.js"><link rel="prefetch" href="/assets/js/48.afbe4f62.js"><link rel="prefetch" href="/assets/js/49.a134584b.js"><link rel="prefetch" href="/assets/js/5.d0ed1372.js"><link rel="prefetch" href="/assets/js/50.3a7461e2.js"><link rel="prefetch" href="/assets/js/51.9575cb04.js"><link rel="prefetch" href="/assets/js/52.5fd5937b.js"><link rel="prefetch" href="/assets/js/53.d9b43790.js"><link rel="prefetch" href="/assets/js/54.4dd21ee3.js"><link rel="prefetch" href="/assets/js/55.6387d56f.js"><link rel="prefetch" href="/assets/js/56.05dd9dca.js"><link rel="prefetch" href="/assets/js/57.06ef5d9e.js"><link rel="prefetch" href="/assets/js/58.22dcffa8.js"><link rel="prefetch" href="/assets/js/59.f6f581db.js"><link rel="prefetch" href="/assets/js/6.e89ddaa7.js"><link rel="prefetch" href="/assets/js/60.608fdff0.js"><link rel="prefetch" href="/assets/js/61.ca910a34.js"><link rel="prefetch" href="/assets/js/62.40a51140.js"><link rel="prefetch" href="/assets/js/63.939ad5ab.js"><link rel="prefetch" href="/assets/js/64.fb28b271.js"><link rel="prefetch" href="/assets/js/65.4d6df1bd.js"><link rel="prefetch" href="/assets/js/66.0063edc7.js"><link rel="prefetch" href="/assets/js/67.bfd086a1.js"><link rel="prefetch" href="/assets/js/7.3cc1b487.js"><link rel="prefetch" href="/assets/js/8.3c2658fb.js"><link rel="prefetch" href="/assets/js/9.e346ca1c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.57c10a4d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/head.png" alt="Wiki：知识&amp;笔记" class="logo"> <span class="site-name can-hide">Wiki：知识&amp;笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言学习" class="dropdown-title"><a href="/languages/" class="link-title">语言学习</a> <span class="title" style="display:none;">语言学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><a href="/basicknowledge/" class="link-title">基础知识</a> <span class="title" style="display:none;">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>嵌入式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicknowledge/stm32/" class="nav-link">STM32</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/others/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/9a7ee40fc232253e/" class="nav-link">技术文档</a></li></ul></div></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/chanshu0508/wikiBase" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言学习" class="dropdown-title"><a href="/languages/" class="link-title">语言学习</a> <span class="title" style="display:none;">语言学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><a href="/basicknowledge/" class="link-title">基础知识</a> <span class="title" style="display:none;">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>嵌入式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basicknowledge/stm32/" class="nav-link">STM32</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/others/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/others/9a7ee40fc232253e/" class="nav-link">技术文档</a></li></ul></div></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/chanshu0508/wikiBase" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a7a186/" class="sidebar-link">资源索引</a></li><li><a href="/pages/be9c1f/" class="sidebar-link">STM32 命名</a></li><li><a href="/pages/1c5e9d/" aria-current="page" class="active sidebar-link">硬件简要介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_1-0-核心功能区" class="sidebar-link">1.0 核心功能区</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_1-1-内核" class="sidebar-link">1.1 内核</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_1-2-存储器" class="sidebar-link">1.2 存储器</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_1-3-时钟、复位与电源管理" class="sidebar-link">1.3 时钟、复位与电源管理</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_1-4-复位" class="sidebar-link">1.4 复位</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_2-0-重要功能区" class="sidebar-link">2.0 重要功能区</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_2-1-低功耗" class="sidebar-link">2.1 低功耗</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_2-2-模数转换器" class="sidebar-link">2.2 模数转换器</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_2-3-dma" class="sidebar-link">2.3 DMA</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_2-4-i-o-端口" class="sidebar-link">2.4 I/O 端口</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_2-5-调试模式" class="sidebar-link">2.5 调试模式</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_2-6-定时器" class="sidebar-link">2.6 定时器</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_3-0-通信功能" class="sidebar-link">3.0 通信功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_3-1-i2c-总线" class="sidebar-link">3.1 IC 总线</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_3-2-usart" class="sidebar-link">3.2 USART</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_3-3-spi" class="sidebar-link">3.3 SPI</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_3-4-can-总线" class="sidebar-link">3.4 CAN 总线</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_3-5-usb" class="sidebar-link">3.5 USB</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_4-0-附加功能" class="sidebar-link">4.0 附加功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_4-1-crc校验" class="sidebar-link">4.1 CRC校验</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_4-2-芯片id" class="sidebar-link">4.2 芯片ID</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_5-0-其它补充" class="sidebar-link">5.0 其它补充</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_5-1-nvic" class="sidebar-link">5.1 NVIC</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_5-2-exti" class="sidebar-link">5.2 EXTI</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_5-3-自举模式" class="sidebar-link">5.3 自举模式</a></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_5-4-时钟和自启动" class="sidebar-link">5.4 时钟和自启动</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/1c5e9d/#_6-0-end" class="sidebar-link">6.0 End</a></li></ul></li><li><a href="/pages/25d378/" class="sidebar-link">MCU的硬件运行机制</a></li><li><a href="/pages/728c26/" class="sidebar-link">STM32的运行</a></li><li><a href="/pages/c885ad/" class="sidebar-link">一些语言&amp;调试零碎</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>底层&amp;寄存器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HAL库外设</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-33863c7e><div class="articleInfo" data-v-33863c7e><ul class="breadcrumbs" data-v-33863c7e><li data-v-33863c7e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-33863c7e></a></li> <li data-v-33863c7e><a href="/basicknowledge/stm32" title="STM32-目录页" data-v-33863c7e>STM32</a></li> <li data-v-33863c7e><a href="/basicknowledge/stm32/#基础" title="STM32#基础" data-v-33863c7e>基础</a></li> <!----></ul> <div class="info" data-v-33863c7e><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>2020-08-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          硬件简要介绍
        </h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="硬件简要介绍"><a href="#硬件简要介绍" class="header-anchor">#</a> 硬件简要介绍</h1> <blockquote><p>本文一些图片与资料来源于<a href="http://www.doyoung.net/YT/" target="_blank" rel="noopener noreferrer">杨桃电子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>这是<code>STM32F103</code>的一个系列的数据手册的第一页：</p> <div align="center"><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814194817.png" height="450px" alt="图片说明"> <img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814195654.png" height="450px" alt="图片说明"></div>
这些东西基本上就是一个单片机的内部硬件信息，为了能更加顺畅的了解一个单片机，有必要首先清楚其底细。
<p>但是首先，你最好清楚一下计算机组成：<a href="https://juejin.im/post/6844904070751191047" target="_blank" rel="noopener noreferrer">简易教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或<a href="https://www.studytonight.com/computer-architecture/" target="_blank" rel="noopener noreferrer">系统教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-0-核心功能区"><a href="#_1-0-核心功能区" class="header-anchor">#</a> 1.0 核心功能区</h2> <h3 id="_1-1-内核"><a href="#_1-1-内核" class="header-anchor">#</a> 1.1 内核</h3> <p>很明显，这就是一个ARM架构的核心部分</p> <h3 id="_1-2-存储器"><a href="#_1-2-存储器" class="header-anchor">#</a> 1.2 存储器</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文简写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">存储器</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Memory</td></tr></tbody></table> <p>存储器在单片机中一般有两种：<code>Flash</code>与<code>SRAM</code>，二者的作用请参考计算机组成原理中的部分：</p> <details class="custom-block details"><summary>不同点与工作流程</summary> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814201626.png" alt="diff"> <img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814201826.png" alt="workflow"></p></details> <h3 id="_1-3-时钟、复位与电源管理"><a href="#_1-3-时钟、复位与电源管理" class="header-anchor">#</a> 1.3 时钟、复位与电源管理</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文简写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">时钟</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Clock</td></tr> <tr><td style="text-align:center;"><a href="https://zh.wikipedia.org/wiki/%E5%AF%A6%E6%99%82%E6%99%82%E9%90%98" target="_blank" rel="noopener noreferrer">实时时钟<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;">RTC</td> <td style="text-align:center;">Real-Time Clock</td></tr></tbody></table> <p>时钟就相当于整个芯片的<strong>脉搏</strong>和前进的队伍中的“一二一”口号，控制着时钟周期</p> <p>时钟的来源主要有以下几种：</p> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">外部高速晶体振荡器</td> <td style="text-align:center;">HSE</td> <td style="text-align:center;">High-Speed External clock signal</td></tr> <tr><td style="text-align:center;">外部低速晶体振荡器</td> <td style="text-align:center;">LSE</td> <td style="text-align:center;">Low-Speed External clock signal</td></tr> <tr><td style="text-align:center;">内部高速RC振荡器</td> <td style="text-align:center;">HSI</td> <td style="text-align:center;">High-Speed Internal clock signal</td></tr> <tr><td style="text-align:center;">内部低速RC振荡器</td> <td style="text-align:center;">LSI</td> <td style="text-align:center;">Low-Speed Internal clock signal</td></tr> <tr><td style="text-align:center;">锁相环倍频输出</td> <td style="text-align:center;">PLL</td> <td style="text-align:center;">Phase-Locked Loop</td></tr></tbody></table> <p>前四种可以<strong>产生时钟信号</strong>，而PLL则是修改输入到其中的时钟信号而后输出，具体的不同请见下图：</p> <details class="custom-block details"><summary>HSE, LSE, HSI, LSI的区别</summary> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814204606.png" alt="diff"></p></details> <h3 id="_1-4-复位"><a href="#_1-4-复位" class="header-anchor">#</a> 1.4 复位</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文简写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">复位</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Reset</td></tr> <tr><td style="text-align:center;"><a href="https://baike.baidu.com/item/POR/10912499" target="_blank" rel="noopener noreferrer">上电复位<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;">POR</td> <td style="text-align:center;">Power-On Reset</td></tr> <tr><td style="text-align:center;"><a href="https://baike.baidu.com/item/PDR/13975159" target="_blank" rel="noopener noreferrer">掉电复位<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;">PDR</td> <td style="text-align:center;">Power-Down Reset</td></tr> <tr><td style="text-align:center;"><a href="https://baike.baidu.com/item/PVD/18064203" target="_blank" rel="noopener noreferrer">可编程电压监测器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:center;">PVD</td> <td style="text-align:center;">Programmable Voltage Detector</td></tr></tbody></table> <p>复位就是只单片机将重新从第一条指令开始运行；下方的几种复位方式就是当检测到<strong>某处的电压高于或低于某值</strong>的时候将单片机复位。</p> <h2 id="_2-0-重要功能区"><a href="#_2-0-重要功能区" class="header-anchor">#</a> 2.0 重要功能区</h2> <h3 id="_2-1-低功耗"><a href="#_2-1-低功耗" class="header-anchor">#</a> 2.1 低功耗</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文简写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">低功耗</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Low power</td></tr> <tr><td style="text-align:center;">睡眠</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Sleep</td></tr> <tr><td style="text-align:center;">停机</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Stop</td></tr> <tr><td style="text-align:center;">待机</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Standby</td></tr></tbody></table> <p>正常工作的时候单片机处于正常模式。在我们需要的时候可以将其调节为三种低功耗模式，三种模式下节电的程度依次递增，具体的节点方式如下：</p> <details class="custom-block details"><summary>节电方式</summary> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814210846.png" alt="power"></p> <ul><li>值得注意的是：前两种方式下 SRAM 尚未停止运行，而在待机模式下 SRAM 会停止运行，导致唤醒时将从头开始执行指令</li></ul></details> <h3 id="_2-2-模数转换器"><a href="#_2-2-模数转换器" class="header-anchor">#</a> 2.2 模数转换器</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">模数转换器</td> <td style="text-align:center;">ADC</td> <td style="text-align:center;">A/D Converter</td></tr></tbody></table> <p>也就是模拟/数字信号转换器。在数字信号中，只有表示低电平的<code>0</code>与表示高电平的<code>1</code>两种状态，而<code>ADC</code>则可以将数字信号的中间电平读取出来从而达到目的。</p> <details class="custom-block details"><summary>ADC的工作</summary> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814211948.png" alt=""></p> <p>值得注意的是：</p> <ul><li>上方黑色的线路是传统的工作模式，ADC将读取的数据通过 CPU 存储进 SRAM 中</li> <li>为了减少 CPU 的负担，人们加入了 DMA 作为 CPU 的“小秘书”，将数据直接存进 SRAM 供 CPU 随时调用</li></ul></details> <h3 id="_2-3-dma"><a href="#_2-3-dma" class="header-anchor">#</a> 2.3 DMA</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">直接内存访问</td> <td style="text-align:center;">DMA</td> <td style="text-align:center;">Direct Memory Access</td></tr></tbody></table> <p>在上面提到了： DMA 是 CPU 的“小秘书”，将读取到的数据直接存进 SRAM 供 CPU 随时调用</p> <p>在数据手册上有一行文字说明：</p> <blockquote><p>支持的外设：定时器、ADC、SPI、I<sup>2</sup>C、USART</p></blockquote> <p>所以这些外设也和上面的 ADC 一样可以直接访问内存储存数据</p> <details class="custom-block details"><summary>DMA 功能原理示意图</summary> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814213150.png" alt="DMA"></p></details> <h3 id="_2-4-i-o-端口"><a href="#_2-4-i-o-端口" class="header-anchor">#</a> 2.4 I/O 端口</h3> <blockquote><p>51/80/112个多功能双向的I/O口，所有I/O口 可以映像到16个外部中断；<strong>几乎</strong>所有端口均 可容忍 5V 信号</p></blockquote> <blockquote><p><strong>每个</strong>GPIO引脚都可以由软件配置成输出(推挽或开漏)、输入(带或不带上拉或下拉)或复用的外设功能 端口。多数GPIO引脚都与数字或模拟的复用外设共用。除了具有模拟输入功能的端口，所有的GPIO 引脚都有大电流通过能力。</p></blockquote> <p>以上两段摘自数据手册，STM32 中的输入输出端口通常称为 <code>GPIO</code></p> <p>STM32 种会将引脚分为<code>PA</code>到<code>DE</code>五个组，每个组最多可以有15个引脚，如图：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814215352.png" alt="pins"></p> <p>每个引脚具体能做什么，以<code>STM32F103</code>为例：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814215518.jpg" alt=""></p> <p>而 GPIO 会有8种<strong>工作模式</strong>，可通过以下几篇文章详细了解：</p> <details class="custom-block details"><summary>文章列表</summary> <ul><li><a href="https://blog.csdn.net/kevinhg/article/details/17490273" target="_blank" rel="noopener noreferrer">STM32中GPIO的8种工作模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://durant35.github.io/2017/11/30/TACouses_ES2017_MCU_GPIO/" target="_blank" rel="noopener noreferrer">GPIO 的几种输入输出模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/whalefall/article/details/80102173" target="_blank" rel="noopener noreferrer">STM32 GPIO的8种工作模式及相关配置寄存器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></details> <h3 id="_2-5-调试模式"><a href="#_2-5-调试模式" class="header-anchor">#</a> 2.5 调试模式</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">串行单线调试</td> <td style="text-align:center;">SWD</td> <td style="text-align:center;">Serial wire Debug</td></tr> <tr><td style="text-align:center;">JTAG 接口</td> <td style="text-align:center;">-</td> <td style="text-align:center;">JTAG interfaces</td></tr></tbody></table> <blockquote><p>内嵌ARM的SWJ-DP接口，这是一个<strong>结合了JTAG和串行单线调试的接口</strong>，可以实现串行单线调试接口或JTAG接口的连接。JTAG的TMS和TCK信号分别与SWDIO和SWCLK共用引脚，TMS脚上的一 个特殊的信号序列用于在JTAG-DP和SW-DP间切换</p></blockquote> <p>调试模式是内嵌于 ARM 内核中的，在调试的时候可以实时追踪到某些数据的变化情况。</p> <p>从数据手册给出的资料中可以看出：<code>SWJ-DP</code>这个接口能够兼容<code>SWD</code>模式与<code>JTAG</code>调试；但是需要注意的是<code>SWD</code>只需要两线就能调试，而<code>JTAG</code>则是标准的20引脚，简单的示意如图：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814221343.png" alt="debug"></p> <h3 id="_2-6-定时器"><a href="#_2-6-定时器" class="header-anchor">#</a> 2.6 定时器</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">定时器</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Timer</td></tr> <tr><td style="text-align:center;">通用定时器</td> <td style="text-align:center;">TIMx (x≠1)</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">高级控制定时器</td> <td style="text-align:center;">TIM1</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">看门狗定时器</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Watchdog timer</td></tr> <tr><td style="text-align:center;">滴答定时器</td> <td style="text-align:center;">-</td> <td style="text-align:center;">SysTick timer</td></tr></tbody></table> <p>定时器就相当于闹钟一样，可以计时一段时间，而且它独立于 CPU 可以省蛆 CPU 的工作从而忙于更重要的工作</p> <h4 id="_2-6-1-通用定时器与高级定时器"><a href="#_2-6-1-通用定时器与高级定时器" class="header-anchor">#</a> 2.6.1 通用定时器与高级定时器</h4> <p>二者性能稍有不同：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814222636.png" alt="diff2"></p> <h4 id="_2-6-2-看门狗定时器"><a href="#_2-6-2-看门狗定时器" class="header-anchor">#</a> 2.6.2 看门狗定时器</h4> <p>看门狗是一个很形象的比喻：</p> <p>这个定时器在实时的监控着 CPU。假定设置一段时间周期<code>T</code>，在这段时间内，如果 CPU 正常工作则不会忘记给这个计时器一个反馈或者信号，也就相当于“喂狗”，则程序继续正常运行；若是 CPU 没有正常运行，也就没有办法“喂狗”，那么这个计时器将会复位 CPU</p> <p>下面是两种看门狗计时器：<code>独立看门狗</code>与<code>窗口看门狗</code>的参数（基于STM32F103）：</p> <blockquote><p><strong>独立的看门狗</strong>是基于一个12位的递减计数器和一个8位的预分频器，它由一个内部独立的40kHz的RC 振荡器提供时钟；因为这个RC振荡器独立于主时钟，所以它可运行于停机和待机模式。它可以被当 成看门狗用于在发生问题时复位整个系统，或作为一个自由定时器为应用程序提供超时管理。通过 选项字节可以配置成是软件或硬件启动看门狗。在调试模式下，计数器可以被冻结。</p> <p><strong>窗口看门狗</strong>内有一个7位的递减计数器，并可以设置成自由运行。它可以被当成看门狗用于在发生问 题时复位整个系统。它由主时钟驱动，具有早期预警中断功能；在调试模式下，计数器可以被冻结。</p></blockquote> <p>二者除了做看门狗定时器作用外，也可以作为通用的普通计时器使用</p> <h4 id="_2-6-3-滴答计时器-系统时基计时器"><a href="#_2-6-3-滴答计时器-系统时基计时器" class="header-anchor">#</a> 2.6.3 滴答计时器（系统时基计时器）</h4> <p>操作系统的多任务处理并不是 CPU 真的可以同时处理多个任务，而是在一段很短的时间内只处理一个任务，而下一个很短的时间段处理另一个任务，而这样的快速切换就有了多任务处理的效果；</p> <p>但是这个很小的时间段是由谁来定义的呢，就是<code>滴答计时器</code>，它专用于实时操作系统</p> <p><strong>总的来讲</strong>，一个单片机内部的计时器大概就如图所示：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814225217.png" alt=""></p> <h2 id="_3-0-通信功能"><a href="#_3-0-通信功能" class="header-anchor">#</a> 3.0 通信功能</h2> <h3 id="_3-1-i2c-总线"><a href="#_3-1-i2c-总线" class="header-anchor">#</a> 3.1 I<sup>2</sup>C 总线</h3> <blockquote><p>多达2个I<sup>2</sup>C总线接口，能够工作于多主模式或从模式，支持标准和快速模式。I<sup>2</sup>C接口支持7位或10位寻址，7位从模式时支持双从地址寻址。内置了硬件CRC发生器/校验器。 它们可以使用DMA操作并支持SMBus总线2.0版/PMBus总线</p></blockquote> <p>I<sup>2</sup>C 连接的设备是并联连接，通过每个设备的地址来与特定的设备通信：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814225908.png" alt="I2C"></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li>I<sup>2</sup>C总线是板级总线，连接线一般不超2米</li> <li>I<sup>2</sup>C的数据线上理论上需要加2K的上拉电阻</li> <li>所有设备与单片机需要共地</li></ul></div> <h3 id="_3-2-usart"><a href="#_3-2-usart" class="header-anchor">#</a> 3.2 USART</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">通用同步/异步收发器</td> <td style="text-align:center;">USART</td> <td style="text-align:center;">Universal Synchronous Asynchronous Receiver Transmitter</td></tr></tbody></table> <blockquote><p>STM32F103xC、STM32F103xD和STM32F103xE增强型系列产品中，内置了3个通用同步/异步收发器(USART1、USART2和USART3)，和2个通用异步收发器(UART4和UART5).</p> <p>这5个接口提供异步通信、支持IrDA SIR ENDEC传输编解码、多处理器通信模式、单线半双工通信 模式和LIN主/从功能。</p> <p>USART1接口通信速率可达4.5兆位/秒，其他接口的通信速率可达2.25兆位/秒。</p> <p>USART1、USART2和USART3接口具有硬件的CTS和RTS信号管理、兼容ISO7816的智能卡模式和 类SPI通信模式，除了UART5之外所有其他接口都可以使用DMA操作。</p></blockquote> <p>USART只是一种协议方式，根据不同电平方式分为RS232和RS485等，连接简图如图所示：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814230815.png" alt="USART"></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li>USART是通用同步/异步收发器（带同步时钟线USART_CK）</li> <li>UART是通用异步收发器（没有同步时钟线）</li> <li>但最常用的是异步模式，同步模式很少用，所以二者区别不大</li></ul></div> <h3 id="_3-3-spi"><a href="#_3-3-spi" class="header-anchor">#</a> 3.3 SPI</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">串行外设接口</td> <td style="text-align:center;">SPI</td> <td style="text-align:center;">Serial Peripheral Interface</td></tr></tbody></table> <blockquote><p>多达3个SPI接口，在从或主模式下，全双工和半双工的通信速率可达18兆位/秒。3位的预分频器可产生8种主模式频率，可配置成每帧8位或16位。硬件的CRC产生/校验<strong>支持基本的SD卡和MMC模式</strong></p> <p>所有的SPI接口都可以使用DMA操作。</p></blockquote> <p>SPI 协议用于板级设备之间的通信，其特点是协议简单稳定、速度较快而且支持读取SD卡和TF卡</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814231646.png" alt="SPI"></p> <h3 id="_3-4-can-总线"><a href="#_3-4-can-总线" class="header-anchor">#</a> 3.4 CAN 总线</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">控制器区域网络</td> <td style="text-align:center;">CAN</td> <td style="text-align:center;">Controller Area Network</td></tr></tbody></table> <blockquote><p>CAN接口兼容规范2.0A和2.0B(主动)，位速率高达1兆位/秒。它可以接收和发送11位标识符的标准帧， 也可以接收和发送29位标识符的扩展帧。具有3个发送邮箱和2个接收FIFO，3级14个可调节的滤波器。</p></blockquote> <p>CAN由于其通信速度快、距离远、稳定且自动查错的优点，用于汽车、工业的智能设备通信；且其不需要Host设备</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814231657.jpg" alt="CAN"></p> <h3 id="_3-5-usb"><a href="#_3-5-usb" class="header-anchor">#</a> 3.5 USB</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">通用串行总线</td> <td style="text-align:center;">USB</td> <td style="text-align:center;">Universal Serial Bus</td></tr></tbody></table> <blockquote><p>STM32F103xC、STM32F103xD和STM32F103xE增强型系列产品，内嵌一个兼容全速USB的设备 控制器，遵循全速USB设备(12兆位/秒)标准，端点可由软件配置，具有待机/唤醒功能。USB专用的48MHz时钟由内部主PLL直接产生(时钟源必须是一个HSE晶体振荡器)。</p></blockquote> <p>USB 由于能够独立供电，接口用于做PC机的从设备如鼠标、键盘、打印机之类；且USB 的时钟需要专用的高速晶振产生</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814231703.png" alt="USB"></p> <p>为什么不把接口统一成一个协议呢？因为它们各有优缺点，适用于不同的场合。</p> <h2 id="_4-0-附加功能"><a href="#_4-0-附加功能" class="header-anchor">#</a> 4.0 附加功能</h2> <h3 id="_4-1-crc校验"><a href="#_4-1-crc校验" class="header-anchor">#</a> 4.1 CRC校验</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">循环冗余校验</td> <td style="text-align:center;">CRC</td> <td style="text-align:center;">Cyclic Redundancy Check</td></tr></tbody></table> <blockquote><p>CRC(循环冗余校验)计算单元使用一个固定的多项式发生器，从一个32位的数据字产生一个CRC码。 在众多的应用中，基于CRC的技术被用于验证数据传输或存储的一致性。在EN/IEC 60335-1标准的 范围内，它提供了一种检测闪存存储器错误的手段，CRC计算单元可以用于实时地计算软件的签名，并与在链接和生成该软件时产生的签名对比。</p></blockquote> <p>归纳起来就是：</p> <ul><li>CRC 是用于数据正确性校验的</li> <li>由一个32位的数据字产生</li> <li>可应用在FLASH检测</li> <li>可用于软件签名及对比</li></ul> <p>直观的显示它的原理就是：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814233138.png" alt="CRC"></p> <h3 id="_4-2-芯片id"><a href="#_4-2-芯片id" class="header-anchor">#</a> 4.2 芯片ID</h3> <p>每个 STM32 芯片都有唯一的一个96位的编码（24位16进制数），通过加密算法可以实现许多产品功能</p> <h2 id="_5-0-其它补充"><a href="#_5-0-其它补充" class="header-anchor">#</a> 5.0 其它补充</h2> <h3 id="_5-1-nvic"><a href="#_5-1-nvic" class="header-anchor">#</a> 5.1 NVIC</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">嵌套的向量式中断控制器</td> <td style="text-align:center;">NVIC</td> <td style="text-align:center;">Nested Vectored Interrupt Controller</td></tr></tbody></table> <blockquote><p>STM32F103xx增强型产品内置嵌套的向量式中断控制器，能够处理多达43个可屏蔽中断通道（不包括16个Cortex-M3的中断线）和16个优先级。</p></blockquote> <p>NVIC就是将任务划分优先级的控制器，数据手册上写出的其特点是：</p> <details class="custom-block details"><summary>NVIC特点</summary> <ul><li>紧耦合的NVIC能够达到低延迟的中断响应处理</li> <li>中断向量入口地址直接进入内核</li> <li>紧耦合的NVIC接口</li> <li>允许中断的早期处理</li> <li>处理晚到的较高优先级中断</li> <li>支持中断尾部链接功能</li> <li>自动保存处理器状态</li> <li>中断返回时自动恢复，无需额外指令开销</li> <li>该模块以最小的中断延迟提供灵活的中断管理功能</li></ul></details> <h3 id="_5-2-exti"><a href="#_5-2-exti" class="header-anchor">#</a> 5.2 EXTI</h3> <table><thead><tr><th style="text-align:center;">中文名称</th> <th style="text-align:center;">英文缩写</th> <th style="text-align:center;">英文全称</th></tr></thead> <tbody><tr><td style="text-align:center;">外部中断/事件控制器</td> <td style="text-align:center;">EXTI</td> <td style="text-align:center;">External Interrupt</td></tr></tbody></table> <blockquote><p>外部中断/事件控制器包含19个边沿检测器，用于产生中断/事件请求。每个中断线都可以独立地配置它的触发事件（上升沿或下降沿或双边沿），并能够单独地被屏蔽；有一个挂起寄存器维持所有中断请求的状态。EXTI可以检测到脉冲宽度小于内部APB2的时钟周期。多达80个通用/O口连接到16个外部中断线。</p></blockquote> <h3 id="_5-3-自举模式"><a href="#_5-3-自举模式" class="header-anchor">#</a> 5.3 自举模式</h3> <p>在启动时，通过自举引脚可以选择三种自举模式中的一种：</p> <ul><li>从程序闪存存储器自举</li> <li>从系统存储器自举</li> <li>从内部SRAM自举</li></ul> <p>自举加载程序（Bootloader）存放于系统存储器中，可以通过USART1对闪存重新编程。</p> <h3 id="_5-4-时钟和自启动"><a href="#_5-4-时钟和自启动" class="header-anchor">#</a> 5.4 时钟和自启动</h3> <blockquote><p>系统时钟的选择是在启动时进行，复位时内部8MHz的RC振荡器被选为默认的CPU时钟，随后可以选择外部的、具失效监控的4~16MHz时钟；当检测到外部时钟失效时，它将被隔离，系统将自动地切换到内部的RC振荡器，如果使能了中断，软件可以接收到相应的中断。同样，在需要时可以采取对PLL时钟完全的中断管理（如当一个间接使用的外部振荡器失效时）</p> <p>多个预分频器用于配置AHB的频率、高速APB（APB2）和低速APB（APB1）区域。AHB和高速APB的最高频率是72MHz，低速APB的最高频率为36MHz。参考图2的时钟驱动框图</p></blockquote> <p>这个部分与内部总线相关，因为一个芯片内部的各部分也需要通信，总结来讲就是：</p> <ul><li><code>AHB</code>是高级高性能总线，用于CPU、DMA、DSP的通信</li> <li><code>APB</code>是外围总线，用于内部其他功能的通信</li> <li><code>APB</code>分为<strong>高速</strong><code>APB2</code>和<strong>低速</strong><code>APB1</code></li></ul> <h2 id="_6-0-end"><a href="#_6-0-end" class="header-anchor">#</a> 6.0 End</h2> <p>至此，在你大致了解这些名词之后，尝试着看懂这张图吧！可能会有点难，但是看懂之后很有帮助：</p> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814235406.png" alt="sructure"></p> <details class="custom-block details"><summary>详细分区</summary> <p><img src="https://cdn.jsdelivr.net/gh/CHANShu0508/images_shack/images/20200814235414.png" alt="details"></p></details> <p>祝你好运！</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/chanshu0508/wikiBase/edit/master/docs/STM32/00.基础/02.硬件简要介绍.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/08/21, 14:08:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/be9c1f/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">STM32 命名</div></a> <a href="/pages/25d378/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MCU的硬件运行机制</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/be9c1f/" class="prev">STM32 命名</a></span> <span class="next"><a href="/pages/25d378/">MCU的硬件运行机制</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2021
    <span>Jack :) | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.287ba006.js" defer></script><script src="/assets/js/2.cf4362eb.js" defer></script><script src="/assets/js/39.5064abfe.js" defer></script>
  </body>
</html>